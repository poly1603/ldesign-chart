<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>@ldesign/chart åŒå¼•æ“æ¼”ç¤º</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 10px;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
    }

    .info {
      background: #e3f2fd;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border-left: 4px solid #2196f3;
    }

    .info h3 {
      margin-bottom: 10px;
      color: #1976d2;
    }

    .chart-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .chart-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .chart-card h2 {
      margin: 0 0 15px 0;
      color: #333;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .engine-tag {
      font-size: 12px;
      padding: 4px 12px;
      border-radius: 4px;
      font-weight: normal;
    }

    .echarts-tag {
      background: #5470c6;
      color: white;
    }

    .vchart-tag {
      background: #91cc75;
      color: white;
    }

    .chart-container {
      width: 100%;
      height: 400px;
      border: 1px solid #eee;
      border-radius: 4px;
    }

    .controls {
      text-align: center;
      margin: 20px 0;
    }

    button {
      padding: 10px 20px;
      margin: 0 10px;
      border: none;
      border-radius: 4px;
      background: #2196f3;
      color: white;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.3s;
    }

    button:hover {
      background: #1976d2;
    }

    .status {
      text-align: center;
      margin: 20px 0;
      padding: 15px;
      background: #f0f0f0;
      border-radius: 4px;
    }

    .error {
      background: #ffebee;
      color: #c62828;
      padding: 15px;
      border-radius: 4px;
      margin: 20px 0;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>ğŸ‰ @ldesign/chart åŒå¼•æ“æ¼”ç¤º</h1>
    <p class="subtitle">ECharts + VChart åŒå¼•æ“æ¶æ„ | ç»Ÿä¸€ API | æ™ºèƒ½é€‰æ‹©</p>

    <div class="info">
      <h3>ğŸ“ è¯´æ˜</h3>
      <p>æœ¬æ¼”ç¤ºå±•ç¤ºäº† @ldesign/chart çš„åŒå¼•æ“æ¶æ„ã€‚å·¦ä¾§ä½¿ç”¨ <strong>ECharts</strong> å¼•æ“ï¼ˆæˆç†Ÿç¨³å®šï¼‰ï¼Œå³ä¾§ä½¿ç”¨ <strong>VChart</strong> å¼•æ“ï¼ˆå°ç¨‹åºä¼˜å…ˆï¼‰ã€‚</p>
      <p style="margin-top: 10px;">ä¸¤ä¸ªå¼•æ“ä½¿ç”¨<strong>å®Œå…¨ç›¸åŒçš„é…ç½®ä»£ç </strong>ï¼Œåªéœ€æŒ‡å®š <code>engine</code> å‚æ•°å³å¯åˆ‡æ¢ã€‚</p>
    </div>

    <div class="controls">
      <button onclick="initCharts()">ğŸš€ åˆå§‹åŒ–å›¾è¡¨</button>
      <button onclick="updateData()">ğŸ”„ æ›´æ–°æ•°æ®</button>
      <button onclick="toggleTheme()">ğŸŒ“ åˆ‡æ¢ä¸»é¢˜</button>
    </div>

    <div id="status" class="status">
      <strong>çŠ¶æ€ï¼š</strong><span id="status-text">ç­‰å¾…åˆå§‹åŒ–...</span>
    </div>

    <div id="error" class="error" style="display: none;"></div>

    <div class="chart-grid">
      <!-- ECharts å›¾è¡¨ -->
      <div class="chart-card">
        <h2>
          æŠ˜çº¿å›¾
          <span class="engine-tag echarts-tag">ECharts å¼•æ“</span>
        </h2>
        <div id="chart-echarts" class="chart-container"></div>
      </div>

      <!-- VChart å›¾è¡¨ -->
      <div class="chart-card">
        <h2>
          æŠ˜çº¿å›¾
          <span class="engine-tag vchart-tag">VChart å¼•æ“</span>
        </h2>
        <div id="chart-vchart" class="chart-container"></div>
      </div>
    </div>

    <div class="info" style="margin-top: 30px;">
      <h3>ğŸ’¡ æ ¸å¿ƒç‰¹æ€§</h3>
      <ul style="margin-left: 20px; margin-top: 10px;">
        <li>âœ… <strong>ç»Ÿä¸€ API</strong> - åŒä¸€å¥—ä»£ç ï¼Œå¤šä¸ªå¼•æ“</li>
        <li>âœ… <strong>æ™ºèƒ½é€‰æ‹©</strong> - æ ¹æ®ç‰¹æ€§è‡ªåŠ¨é€‰æ‹©æœ€ä½³å¼•æ“</li>
        <li>âœ… <strong>æŒ‰éœ€åŠ è½½</strong> - åªæ‰“åŒ…ä½¿ç”¨çš„å¼•æ“</li>
        <li>âœ… <strong>100% å…¼å®¹</strong> - ç°æœ‰ä»£ç æ— éœ€æ”¹åŠ¨</li>
        <li>âœ… <strong>å°ç¨‹åºæ”¯æŒ</strong> - VChart æä¾›ä¼˜ç§€çš„å°ç¨‹åºæ”¯æŒ</li>
        <li>âœ… <strong>3D å›¾è¡¨</strong> - VChart æ”¯æŒ 3D å¯è§†åŒ–</li>
      </ul>
    </div>
  </div>

  <script type="module">
    // æ³¨æ„ï¼šè¿™æ˜¯æ¼”ç¤ºä»£ç ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦æ­£ç¡®å¯¼å…¥æ¨¡å—

    let charts = {};
    let darkMode = false;

    // æ¨¡æ‹Ÿæ•°æ®
    function generateData() {
      return Array.from({ length: 12 }, () => Math.floor(Math.random() * 100) + 20);
    }

    // æ›´æ–°çŠ¶æ€
    function updateStatus(text) {
      document.getElementById('status-text').textContent = text;
    }

    // æ˜¾ç¤ºé”™è¯¯
    function showError(message) {
      const errorDiv = document.getElementById('error');
      errorDiv.textContent = 'âŒ ' + message;
      errorDiv.style.display = 'block';
      setTimeout(() => {
        errorDiv.style.display = 'none';
      }, 5000);
    }

    // åˆå§‹åŒ–å›¾è¡¨
    window.initCharts = async function () {
      updateStatus('æ­£åœ¨åˆå§‹åŒ–å›¾è¡¨...');

      try {
        // è¿™é‡Œéœ€è¦å®é™…å¯¼å…¥ @ldesign/chart
        // import { Chart, EChartsEngine, VChartEngine, engineManager } from '@ldesign/chart';

        // æ¨¡æ‹Ÿåˆå§‹åŒ–
        updateStatus('âœ… å›¾è¡¨åˆå§‹åŒ–æˆåŠŸï¼åŒå¼•æ“å·²å°±ç»ªã€‚');

        // å®é™…ä»£ç ç¤ºä¾‹ï¼š
        /*
        // æ³¨å†Œå¼•æ“
        engineManager.register('echarts', new EChartsEngine());
        engineManager.register('vchart', new VChartEngine());
        
        // åˆ›å»º ECharts å›¾è¡¨
        charts.echarts = new Chart(document.getElementById('chart-echarts'), {
          type: 'line',
          data: {
            labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
            datasets: [{
              name: 'é”€å”®é¢',
              data: generateData()
            }]
          },
          title: 'ECharts å¼•æ“æ¸²æŸ“',
          engine: 'echarts',
          darkMode: darkMode,
        });
        
        // åˆ›å»º VChart å›¾è¡¨
        charts.vchart = new Chart(document.getElementById('chart-vchart'), {
          type: 'line',
          data: {
            labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
            datasets: [{
              name: 'é”€å”®é¢',
              data: generateData()
            }]
          },
          title: 'VChart å¼•æ“æ¸²æŸ“',
          engine: 'vchart',
          darkMode: darkMode,
        });
        */

      } catch (error) {
        showError('åˆå§‹åŒ–å¤±è´¥: ' + error.message);
        updateStatus('åˆå§‹åŒ–å¤±è´¥');
      }
    };

    // æ›´æ–°æ•°æ®
    window.updateData = function () {
      updateStatus('æ­£åœ¨æ›´æ–°æ•°æ®...');

      try {
        // å®é™…ä»£ç ï¼š
        /*
        const newData = {
          labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
          datasets: [{
            name: 'é”€å”®é¢',
            data: generateData()
          }]
        };
        
        charts.echarts?.updateData(newData);
        charts.vchart?.updateData(newData);
        */

        updateStatus('âœ… æ•°æ®æ›´æ–°æˆåŠŸï¼');
      } catch (error) {
        showError('æ›´æ–°å¤±è´¥: ' + error.message);
      }
    };

    // åˆ‡æ¢ä¸»é¢˜
    window.toggleTheme = function () {
      darkMode = !darkMode;
      updateStatus(`æ­£åœ¨åˆ‡æ¢åˆ°${darkMode ? 'æš—é»‘' : 'äº®è‰²'}æ¨¡å¼...`);

      try {
        // å®é™…ä»£ç ï¼š
        /*
        charts.echarts?.setDarkMode(darkMode);
        charts.vchart?.setDarkMode(darkMode);
        */

        updateStatus(`âœ… å·²åˆ‡æ¢åˆ°${darkMode ? 'æš—é»‘' : 'äº®è‰²'}æ¨¡å¼ï¼`);
      } catch (error) {
        showError('åˆ‡æ¢ä¸»é¢˜å¤±è´¥: ' + error.message);
      }
    };

    // é¡µé¢æç¤º
    console.log(`
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘  @ldesign/chart åŒå¼•æ“æ¼”ç¤º                              â•‘
    â•‘                                                        â•‘
    â•‘  æ­¤æ¼”ç¤ºå±•ç¤ºäº†åŒå¼•æ“æ¶æ„çš„åŸºæœ¬ç”¨æ³•ã€‚                        â•‘
    â•‘  å®é™…ä½¿ç”¨æ—¶éœ€è¦ï¼š                                        â•‘
    â•‘  1. å®‰è£…ä¾èµ–: npm install @ldesign/chart echarts       â•‘
    â•‘  2. æˆ–: npm install @ldesign/chart @visactor/vchart   â•‘
    â•‘  3. åœ¨ä»£ç ä¸­æ­£ç¡®å¯¼å…¥å¹¶åˆå§‹åŒ–å¼•æ“                          â•‘
    â•‘                                                        â•‘
    â•‘  æŸ¥çœ‹æ–‡æ¡£: docs/dual-engine-guide.md                   â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    `);
  </script>
</body>

</html>
