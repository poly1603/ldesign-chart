# @ldesign/chart æ„å»ºå·¥å…·å¯¹æ¯”æŠ¥å‘Š

**å¯¹æ¯”æ—¥æœŸ**: 2025-10-24  
**å¯¹æ¯”ç‰ˆæœ¬**: v2.0.0

---

## ğŸ“Š æ„å»ºå·¥å…·å¯¹æ¯”

### æ–¹æ¡ˆ1: Rollupï¼ˆåŸæœ‰æ–¹æ¡ˆï¼‰

**é…ç½®æ–‡ä»¶**: `rollup.config.js`

**æ„å»ºå‘½ä»¤**: 
```bash
pnpm build
```

**äº§ç‰©**:
```
dist/
â”œâ”€â”€ index.esm.js (181KB)
â”œâ”€â”€ index.cjs.js (184KB)
â”œâ”€â”€ index.umd.js (207KB)
â”œâ”€â”€ index.umd.min.js (90KB)
â”œâ”€â”€ index.d.ts (70KB)
â”œâ”€â”€ react.esm.js (99KB)
â”œâ”€â”€ react.cjs.js (100KB)
â”œâ”€â”€ react.umd.min.js (51KB)
â”œâ”€â”€ react.d.ts (12KB)
â”œâ”€â”€ lit.esm.js (107KB)
â”œâ”€â”€ lit.cjs.js (108KB)
â”œâ”€â”€ lit.umd.min.js (59KB)
â””â”€â”€ lit.d.ts (11KB)
```

**æ€»è®¡**: 15 ä¸ªæ–‡ä»¶

**ä¼˜ç‚¹**:
- âœ… å®Œæ•´çš„æ ¼å¼æ”¯æŒï¼ˆESM/CJS/UMDï¼‰
- âœ… å¤šå…¥å£æ‰“åŒ…ï¼ˆæ ¸å¿ƒ/React/Litï¼‰
- âœ… ç±»å‹å®šä¹‰ç”Ÿæˆå®Œæ•´
- âœ… é…ç½®çµæ´»åº¦é«˜

**ç¼ºç‚¹**:
- âš ï¸ é…ç½®å¤æ‚ï¼ˆ140+ è¡Œï¼‰
- âš ï¸ éœ€è¦æ‰‹åŠ¨é…ç½® Vue æ’ä»¶
- âš ï¸ æ„å»ºæ—¶é—´è¾ƒé•¿ï¼ˆ~8-10ç§’ï¼‰

---

### æ–¹æ¡ˆ2: @ldesign/builderï¼ˆæ–°æ–¹æ¡ˆï¼‰

**é…ç½®æ–‡ä»¶**: `builder.config.ts`

**æ„å»ºå‘½ä»¤**:
```bash
pnpm build:builder
```

**äº§ç‰©**:
```
dist/
â”œâ”€â”€ index.js (205KB)
â”œâ”€â”€ index.min.js (93KB)
â”œâ”€â”€ index.js.map (479KB)
â””â”€â”€ index.min.js.map (371KB)
```

**æ€»è®¡**: 4 ä¸ªæ–‡ä»¶

**ä¼˜ç‚¹**:
- âœ… é›¶é…ç½®ï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰
- âœ… æ„å»ºé€Ÿåº¦å¿«
- âœ… ç”Ÿæˆ sourcemap
- âœ… æ™ºèƒ½é”™è¯¯å¤„ç†

**ç¼ºç‚¹**:
- âš ï¸ æ ¼å¼è¾ƒå°‘ï¼ˆä»… ESMï¼‰
- âš ï¸ å¤šå…¥å£æ”¯æŒéœ€é…ç½®
- âš ï¸ ç±»å‹å®šä¹‰éœ€å•ç‹¬é…ç½®

---

## ğŸ¯ æ¨èæ–¹æ¡ˆ

### å»ºè®®ï¼š**ä¿ç•™ Rollup ä½œä¸ºä¸»è¦æ„å»ºå·¥å…·**

**åŸå› **:

1. **éœ€è¦å¤šæ ¼å¼è¾“å‡º**
   - Web åº”ç”¨éœ€è¦ ESM/CJS/UMD
   - ä¸åŒç¯å¢ƒéœ€è¦ä¸åŒæ ¼å¼

2. **éœ€è¦å¤šå…¥å£æ‰“åŒ…**
   - æ ¸å¿ƒåº“ `index`
   - React é€‚é…å™¨ `react`
   - Lit é€‚é…å™¨ `lit`
   - Vue é€‚é…å™¨ï¼ˆæºç å¯¼å‡ºï¼‰

3. **ç±»å‹å®šä¹‰å®Œæ•´**
   - æ¯ä¸ªå…¥å£éƒ½æœ‰å¯¹åº”çš„ .d.ts
   - TypeScript ç”¨æˆ·ä½“éªŒå¥½

4. **é…ç½®å·²ä¼˜åŒ–**
   - é…ç½®æ–‡ä»¶å·²ç»å®Œå–„
   - æ„å»ºæµç¨‹ç¨³å®š

### å¯é€‰ï¼šä½¿ç”¨ builder ä½œä¸ºå¼€å‘æ„å»º

```json
{
  "scripts": {
    "dev": "ldesign-builder build -w",     // å¼€å‘å¿«é€Ÿæ„å»º
    "build": "rollup -c",                  // ç”Ÿäº§å®Œæ•´æ„å»º
    "build:prod": "rollup -c --environment ANALYZE"
  }
}
```

---

## ğŸ“¦ æœ€ç»ˆæ„å»ºé…ç½®

### ä¿ç•™å¹¶ä¼˜åŒ– Rollup é…ç½®

**æ–‡ä»¶**: `rollup.config.js`

**ä¼˜åŠ¿**:
- âœ… æ”¯æŒæ‰€æœ‰éœ€è¦çš„æ ¼å¼
- âœ… å¤šå…¥å£æ‰“åŒ…å®Œæ•´
- âœ… ç±»å‹å®šä¹‰ç”Ÿæˆ
- âœ… Vue æ’ä»¶é›†æˆï¼ˆå·²ä¿®å¤ï¼‰
- âœ… å‹ç¼©å’Œä¼˜åŒ–

**package.json è„šæœ¬**:
```json
{
  "scripts": {
    "dev": "rollup -c -w",
    "build": "rimraf dist && rollup -c",
    "build:prod": "NODE_ENV=production rimraf dist && rollup -c",
    "build:builder": "ldesign-builder build",  // å¤‡ç”¨æ–¹æ¡ˆ
    "analyze": "rollup -c --environment ANALYZE"
  }
}
```

---

## âœ… æ„å»ºéªŒè¯

### Rollup æ„å»º âœ…

```bash
pnpm build
```

**ç»“æœ**: âœ… æˆåŠŸ
- 15 ä¸ªäº§ç‰©æ–‡ä»¶
- æ‰€æœ‰æ ¼å¼å®Œæ•´
- ç±»å‹å®šä¹‰æ­£ç¡®

### Builder æ„å»º âœ…

```bash
pnpm build:builder
```

**ç»“æœ**: âœ… æˆåŠŸ
- 4 ä¸ªäº§ç‰©æ–‡ä»¶
- ESM æ ¼å¼
- sourcemap ç”Ÿæˆ

---

## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | Rollup | Builder |
|------|--------|---------|
| æ„å»ºæ—¶é—´ | ~8-10s | ~4-5s |
| äº§ç‰©æ•°é‡ | 15 | 4 |
| æ ¼å¼æ”¯æŒ | ESM/CJS/UMD | ESM |
| Sourcemap | å¯é€‰ | é»˜è®¤ |
| é…ç½®å¤æ‚åº¦ | ä¸­ | ä½ |

---

## ğŸ¯ æœ€ç»ˆå»ºè®®

### ä¸»è¦æ„å»ºï¼šRollup âœ…

**åŸå› **:
- éœ€è¦å®Œæ•´çš„æ ¼å¼æ”¯æŒ
- éœ€è¦å¤šå…¥å£æ‰“åŒ…
- éœ€è¦å®Œæ•´çš„ç±»å‹å®šä¹‰
- é…ç½®å·²ä¼˜åŒ–å®Œå–„

**ä½¿ç”¨**:
```bash
pnpm build        # å¼€å‘æ„å»º
pnpm build:prod   # ç”Ÿäº§æ„å»º
```

### å¤‡ç”¨æ–¹æ¡ˆï¼šBuilder

**ç”¨é€”**:
- å¿«é€Ÿå¼€å‘éªŒè¯
- ç®€å•é¡¹ç›®æ„å»º
- CI/CD å¿«é€Ÿæ„å»º

**ä½¿ç”¨**:
```bash
pnpm build:builder
```

---

## âœ… æœ€ç»ˆç»“è®º

**æ¨èä½¿ç”¨ Rollup ä½œä¸º @ldesign/chart çš„ä¸»è¦æ„å»ºå·¥å…·**

âœ… **åŸå› **:
1. æ”¯æŒæ‰€æœ‰éœ€è¦çš„è¾“å‡ºæ ¼å¼
2. å¤šå…¥å£æ‰“åŒ…å®Œæ•´
3. ç±»å‹å®šä¹‰ç”Ÿæˆå®Œå–„
4. é…ç½®å·²ç»ä¼˜åŒ–
5. æ„å»ºç¨³å®šå¯é 

âœ… **åŒæ—¶ä¿ç•™ builder é…ç½®ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆ**

---

**æœ€åæ›´æ–°**: 2025-10-24  
**æ„å»ºçŠ¶æ€**: âœ… ä¸¤ç§æ–¹æ¡ˆéƒ½å¯ç”¨

